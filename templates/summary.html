<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <title>Text Summarization</title>

    <!-- Your custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  </head>
  <body>
    <div class="container">
        <div class="jumbotron jumbotron-fluid">
            <div class="container">
              <h1 class="display-4 heading">Text Summarization</h1>
              <p class="lead">Get the best summary for your text</p>
            </div>
        </div>
    </div> 

    <div class="container" style="display: flex; justify-content: space-around">
        <p class="original_title col-sm-4">Original Text</p>
        <p class="summary_title col-sm-4">Summary</p>
    </div>
          
    <div class="container srt">
        <p class="original_text col-sm-6">{{original_text}}</p>
        <div class="container col-sm-6">
            <p class="summary_text col-sm-6">{{summary}}</p>
            <button class="btn btn-success" type="submit" style="margin-left: 15px">Words: {{len_summary}}</button>
        </div>
    </div>

    <div class="container">
        <button class="btn btn-danger" type="submit">Words: {{len_original_text}}</button>
    </div>

    <!-- Footer with Tabs for each Step -->
    <div class="footer mt-5" style="margin: 64px;">
      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="token-tab" data-toggle="tab" href="#token" role="tab" aria-controls="token" aria-selected="true">Tokenization</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="word-frequencies-tab" data-toggle="tab" href="#word-frequencies" role="tab" aria-controls="word-frequencies" aria-selected="false">Word Frequencies</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="normalized-word-frequencies-tab" data-toggle="tab" href="#normalized-word-frequencies" role="tab" aria-controls="normalized-word-frequencies" aria-selected="false">Normalized Frequencies</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="sentence-scores-tab" data-toggle="tab" href="#sentence-scores" role="tab" aria-controls="sentence-scores" aria-selected="false">Sentence Scores</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="response-time-tab" data-toggle="tab" href="#response-time" role="tab" aria-controls="response-time" aria-selected="false">Response Time</a>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <!-- Tokenization Tab -->
        <div class="tab-pane fade show active" id="token" role="tabpanel" aria-labelledby="token-tab">
          <table class="table table-bordered mt-3">
            <thead>
              <tr>
                <th>Token</th>
              </tr>
            </thead>
            <tbody>
              {% for tk in token %}
                <tr>
                  <td>{{ tk }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Word Frequencies Tab -->
        <div class="tab-pane fade" id="word-frequencies" role="tabpanel" aria-labelledby="word-frequencies-tab">
          <table class="table table-bordered mt-3">
            <thead>
              <tr>
                <th>Word</th>
                <th>Frequency</th>
              </tr>
            </thead>
            <tbody>
              {% for word, freq in word_frequencies.items() %}
                <tr>
                  <td>{{ word }}</td>
                  <td>{{ freq }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Normalized Word Frequencies Tab -->
        <div class="tab-pane fade" id="normalized-word-frequencies" role="tabpanel" aria-labelledby="normalized-word-frequencies-tab">
          <table class="table table-bordered mt-3">
            <thead>
              <tr>
                <th>Word</th>
                <th>Normalized Frequency</th>
              </tr>
            </thead>
            <tbody>
              {% for word, norm_freq in normalized_word_frequencies.items() %}
                <tr>
                  <td>{{ word }}</td>
                  <td>{{ norm_freq }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Sentence Scores Tab -->
        <div class="tab-pane fade" id="sentence-scores" role="tabpanel" aria-labelledby="sentence-scores-tab">
          <table class="table table-bordered mt-3">
            <thead>
              <tr>
                <th>Sentence</th>
                <th>Score</th>
              </tr>
            </thead>
            <tbody>
              {% for sentence, score in sentence_scores.items() %}
                <tr>
                  <td>{{ sentence }}</td>
                  <td>{{ score }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Response Time Tab -->
        <div class="tab-pane fade" id="response-time" role="tabpanel" aria-labelledby="response-time-tab">
          <div class="mt-3">
            <h5>Processing Time:</h5>
            <p>{{ response_time }} seconds</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
